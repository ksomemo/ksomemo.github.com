

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Table of Contents &mdash; gh-pages  ドキュメント</title>
  

  
  
  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  

  

  
        <link rel="index" title="索引"
              href="../genindex.html"/>
        <link rel="search" title="検索" href="../search.html"/>
    <link rel="top" title="gh-pages  ドキュメント" href="../index.html"/> 

  
  <script src="../_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="../index.html" class="icon icon-home"> gh-pages
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <!-- Local TOC -->
              <div class="local-toc"><ul>
<li><a class="reference internal" href="#">Table of Contents</a><ul>
<li><a class="reference internal" href="#pandas-notes">pandas notes</a></li>
<li><a class="reference internal" href="#環境準備">環境準備</a></li>
<li><a class="reference internal" href="#データ準備のための準備">データ準備のための準備</a><ul>
<li><a class="reference internal" href="#[0,-1)">[0, 1)</a></li>
</ul>
</li>
<li><a class="reference internal" href="#正規分布？">正規分布？</a><ul>
<li><a class="reference internal" href="#カテゴリ変数化">カテゴリ変数化</a></li>
</ul>
</li>
<li><a class="reference internal" href="#quantile">quantile</a></li>
<li><a class="reference internal" href="#基礎集計">基礎集計</a></li>
<li><a class="reference internal" href="#正規化">正規化</a></li>
<li><a class="reference internal" href="#累積構成比のための処理">累積構成比のための処理</a></li>
<li><a class="reference internal" href="#分布">分布</a></li>
<li><a class="reference internal" href="#formula式">formula式</a></li>
</ul>
</li>
</ul>
</div>
            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">gh-pages</a>
        
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html">Docs</a> &raquo;</li>
        
      <li>Table of Contents</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../_sources/notebooks/Standardize_other.ipynb.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  
<style>
/* CSS for nbsphinx extension */

/* remove conflicting styling from Sphinx themes */
div.nbinput,
div.nbinput div.prompt,
div.nbinput div.input_area,
div.nbinput div[class*=highlight],
div.nbinput div[class*=highlight] pre,
div.nboutput,
div.nbinput div.prompt,
div.nbinput div.output_area,
div.nboutput div[class*=highlight],
div.nboutput div[class*=highlight] pre {
    background: none;
    border: none;
    padding: 0 0;
    margin: 0;
    box-shadow: none;
}

/* avoid gaps between output lines */
div.nboutput div[class*=highlight] pre {
    line-height: normal;
}

/* input/output containers */
div.nbinput,
div.nboutput {
    display: -webkit-flex;
    display: flex;
    align-items: flex-start;
    margin: 0;
    width: 100%;
}
@media (max-width: 540px) {
    div.nbinput,
    div.nboutput {
        flex-direction: column;
    }
}

/* input container */
div.nbinput {
    padding-top: 5px;
}

/* last container */
div.nblast {
    padding-bottom: 5px;
}

/* input prompt */
div.nbinput div.prompt pre {
    color: #303F9F;
}

/* output prompt */
div.nboutput div.prompt pre {
    color: #D84315;
}

/* all prompts */
div.nbinput div.prompt,
div.nboutput div.prompt {
    min-width: 8ex;
    padding-top: 0.4em;
    padding-right: 0.4em;
    text-align: right;
    flex: 0;
}
@media (max-width: 540px) {
    div.nbinput div.prompt,
    div.nboutput div.prompt {
        text-align: left;
        padding: 0.4em;
    }
    div.nboutput div.prompt.empty {
        padding: 0;
    }
}

/* disable scrollbars on prompts */
div.nbinput div.prompt pre,
div.nboutput div.prompt pre {
    overflow: hidden;
}

/* input/output area */
div.nbinput div.input_area,
div.nboutput div.output_area {
    padding: 0.4em;
    -webkit-flex: 1;
    flex: 1;
    overflow: auto;
}
@media (max-width: 540px) {
    div.nbinput div.input_area,
    div.nboutput div.output_area {
        width: 100%;
    }
}

/* input area */
div.nbinput div.input_area {
    border: 1px solid #cfcfcf;
    border-radius: 2px;
    background: #f7f7f7;
}

/* override MathJax center alignment in output cells */
div.nboutput div[class*=MathJax] {
    text-align: left !important;
}

/* override sphinx.ext.pngmath center alignment in output cells */
div.nboutput div.math p {
    text-align: left;
}

/* standard error */
div.nboutput div.output_area.stderr {
    background: #fdd;
}

/* ANSI colors */
.ansi-black-fg { color: #3E424D; }
.ansi-black-bg { background-color: #3E424D; }
.ansi-black-intense-fg { color: #282C36; }
.ansi-black-intense-bg { background-color: #282C36; }
.ansi-red-fg { color: #E75C58; }
.ansi-red-bg { background-color: #E75C58; }
.ansi-red-intense-fg { color: #B22B31; }
.ansi-red-intense-bg { background-color: #B22B31; }
.ansi-green-fg { color: #00A250; }
.ansi-green-bg { background-color: #00A250; }
.ansi-green-intense-fg { color: #007427; }
.ansi-green-intense-bg { background-color: #007427; }
.ansi-yellow-fg { color: #DDB62B; }
.ansi-yellow-bg { background-color: #DDB62B; }
.ansi-yellow-intense-fg { color: #B27D12; }
.ansi-yellow-intense-bg { background-color: #B27D12; }
.ansi-blue-fg { color: #208FFB; }
.ansi-blue-bg { background-color: #208FFB; }
.ansi-blue-intense-fg { color: #0065CA; }
.ansi-blue-intense-bg { background-color: #0065CA; }
.ansi-magenta-fg { color: #D160C4; }
.ansi-magenta-bg { background-color: #D160C4; }
.ansi-magenta-intense-fg { color: #A03196; }
.ansi-magenta-intense-bg { background-color: #A03196; }
.ansi-cyan-fg { color: #60C6C8; }
.ansi-cyan-bg { background-color: #60C6C8; }
.ansi-cyan-intense-fg { color: #258F8F; }
.ansi-cyan-intense-bg { background-color: #258F8F; }
.ansi-white-fg { color: #C5C1B4; }
.ansi-white-bg { background-color: #C5C1B4; }
.ansi-white-intense-fg { color: #A1A6B2; }
.ansi-white-intense-bg { background-color: #A1A6B2; }

.ansi-bold { font-weight: bold; }

/* CSS overrides for sphinx_rtd_theme */

/* 24px margin */
.nbinput.nblast,
.nboutput.nblast {
    margin-bottom: 19px;  /* padding has already 5px */
}

/* ... except between code cells! */
.nblast + .nbinput {
    margin-top: -19px;
}

/* nice headers on first paragraph of info/warning boxes */
.admonition .first {
    margin: -12px;
    padding: 6px 12px;
    margin-bottom: 12px;
    color: #fff;
    line-height: 1;
    display: block;
}
.admonition.warning .first {
    background: #f0b37e;
}
.admonition.note .first {
    background: #6ab0de;
}
.admonition > p:before {
    margin-right: 4px;  /* make room for the exclamation icon */
}
</style>
<div class="section" id="Table-of-Contents">
<h1>Table of Contents<a class="headerlink" href="#Table-of-Contents" title="このヘッドラインへのパーマリンク">¶</a></h1>
<p><div class="lev2"><p>0.1&nbsp;&nbsp;pandas notes</p>
</div><div class="lev2"><p>0.2&nbsp;&nbsp;環境準備</p>
</div><div class="lev2"><p>0.3&nbsp;&nbsp;データ準備のための準備</p>
</div><div class="lev3"><p>0.3.1&nbsp;&nbsp;[0, 1)</p>
</div><div class="lev2"><p>0.4&nbsp;&nbsp;正規分布？</p>
</div><div class="lev3"><p>0.4.1&nbsp;&nbsp;カテゴリ変数化</p>
</div><div class="lev2"><p>0.5&nbsp;&nbsp;quantile</p>
</div><div class="lev2"><p>0.6&nbsp;&nbsp;基礎集計</p>
</div><div class="lev2"><p>0.7&nbsp;&nbsp;正規化</p>
</div><div class="lev2"><p>0.8&nbsp;&nbsp;累積構成比のための処理</p>
</div><div class="lev2"><p>0.9&nbsp;&nbsp;分布</p>
</div><div class="lev2"><p>0.10&nbsp;&nbsp;formula式</p>
</div><div class="section" id="pandas-notes">
<h2>pandas notes<a class="headerlink" href="#pandas-notes" title="このヘッドラインへのパーマリンク">¶</a></h2>
<ul class="simple">
<li>pandasのメモ</li>
<li>python3.5.1を使うようにする</li>
<li>pandas 0.17.1を使うようにする</li>
</ul>
</div>
<div class="section" id="環境準備">
<h2>環境準備<a class="headerlink" href="#環境準備" title="このヘッドラインへのパーマリンク">¶</a></h2>
<div class="highlight-bash:anaconda_py3.5.1"><div class="highlight"><pre><span></span>pyenv install anaconda3-2.5.0
pyenv local anaconda3-2.5.0
</pre></div>
</div>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none"><div class="highlight"><pre>
<span></span>In [50]:
</pre></div>
</div>
<div class="input_area highlight-ipython3"><div class="highlight"><pre>
<span></span>import numpy as np
import pandas as pd
import matplotlib
import matplotlib.pyplot as plt
plt.style.use(&#39;ggplot&#39;)

%matplotlib inline
</pre></div>
</div>
</div>
</div>
<div class="section" id="データ準備のための準備">
<h2>データ準備のための準備<a class="headerlink" href="#データ準備のための準備" title="このヘッドラインへのパーマリンク">¶</a></h2>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none"><div class="highlight"><pre>
<span></span>In [25]:
</pre></div>
</div>
<div class="input_area highlight-ipython3"><div class="highlight"><pre>
<span></span>nrow, ncol = 2, 3
</pre></div>
</div>
</div>
<div class="section" id="[0,-1)">
<h3>[0, 1)<a class="headerlink" href="#[0,-1)" title="このヘッドラインへのパーマリンク">¶</a></h3>
<div class="nbinput docutils container">
<div class="prompt highlight-none"><div class="highlight"><pre>
<span></span>In [26]:
</pre></div>
</div>
<div class="input_area highlight-ipython3"><div class="highlight"><pre>
<span></span>np.random.rand(nrow, ncol)
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none"><div class="highlight"><pre>
<span></span>Out[26]:
</pre></div>
</div>
<div class="output_area highlight-none"><div class="highlight"><pre>
<span></span>array([[ 0.90160673,  0.50850989,  0.60819238],
       [ 0.03801823,  0.12838991,  0.05579081]])
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="正規分布？">
<h2>正規分布？<a class="headerlink" href="#正規分布？" title="このヘッドラインへのパーマリンク">¶</a></h2>
<div class="nbinput docutils container">
<div class="prompt highlight-none"><div class="highlight"><pre>
<span></span>In [27]:
</pre></div>
</div>
<div class="input_area highlight-ipython3"><div class="highlight"><pre>
<span></span>np.random.randn(row_count, col_count)
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none"><div class="highlight"><pre>
<span></span>Out[27]:
</pre></div>
</div>
<div class="output_area highlight-none"><div class="highlight"><pre>
<span></span>array([[-0.41047876,  0.96353492, -0.52898658],
       [ 1.17824705, -0.44607617, -0.25503468]])
</pre></div>
</div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none"><div class="highlight"><pre>
<span></span>In [71]:
</pre></div>
</div>
<div class="input_area highlight-ipython3"><div class="highlight"><pre>
<span></span>pd.Series(np.random.randn(1, 10000)[0], name=&quot;a&quot;).hist()
</pre></div>
</div>
</div>
<div class="nboutput docutils container">
<div class="prompt highlight-none"><div class="highlight"><pre>
<span></span>Out[71]:
</pre></div>
</div>
<div class="output_area highlight-none"><div class="highlight"><pre>
<span></span>&lt;matplotlib.axes._subplots.AxesSubplot at 0x11c6e3a20&gt;
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<img alt="../_images/notebooks_Standardize_other_9_1.png" src="../_images/notebooks_Standardize_other_9_1.png" />
</div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none"><div class="highlight"><pre>
<span></span>In [64]:
</pre></div>
</div>
<div class="input_area highlight-ipython3"><div class="highlight"><pre>
<span></span>np.random.randn(1, 10000)
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none"><div class="highlight"><pre>
<span></span>Out[64]:
</pre></div>
</div>
<div class="output_area highlight-none"><div class="highlight"><pre>
<span></span>array([[ 1.01418904, -0.38533656,  2.02055062, ...,  1.58338601,
        -1.42410101,  0.16196371]])
</pre></div>
</div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none"><div class="highlight"><pre>
<span></span>In [28]:
</pre></div>
</div>
<div class="input_area highlight-ipython3"><div class="highlight"><pre>
<span></span>np.random.randint(1, 100, 10)
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none"><div class="highlight"><pre>
<span></span>Out[28]:
</pre></div>
</div>
<div class="output_area highlight-none"><div class="highlight"><pre>
<span></span>array([ 8, 52, 30, 40, 42, 21, 34, 11, 77, 48])
</pre></div>
</div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none"><div class="highlight"><pre>
<span></span>In [80]:
</pre></div>
</div>
<div class="input_area highlight-ipython3"><div class="highlight"><pre>
<span></span>import string

np.random.seed(0)
data = {
    &quot;a&quot;: range(1, 1000+1),
    &quot;b&quot;: list(string.ascii_letters[:25] * 40),
    &quot;c&quot;: [1,2,3,4] * 250,
    &quot;d&quot;: np.random.rand(1000),
    &quot;e&quot;: np.random.randn(1000),
    &quot;f&quot;: np.random.randint(1, 100, 1000)
}
df = pd.DataFrame(data)
df.head(5)
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none"><div class="highlight"><pre>
<span></span>Out[80]:
</pre></div>
</div>
<div class="output_area docutils container">
<div>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>a</th>
      <th>b</th>
      <th>c</th>
      <th>d</th>
      <th>e</th>
      <th>f</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>1</td>
      <td>a</td>
      <td>1</td>
      <td>0.548814</td>
      <td>-0.101697</td>
      <td>53</td>
    </tr>
    <tr>
      <th>1</th>
      <td>2</td>
      <td>b</td>
      <td>2</td>
      <td>0.715189</td>
      <td>0.019279</td>
      <td>76</td>
    </tr>
    <tr>
      <th>2</th>
      <td>3</td>
      <td>c</td>
      <td>3</td>
      <td>0.602763</td>
      <td>1.849591</td>
      <td>54</td>
    </tr>
    <tr>
      <th>3</th>
      <td>4</td>
      <td>d</td>
      <td>4</td>
      <td>0.544883</td>
      <td>-0.214167</td>
      <td>94</td>
    </tr>
    <tr>
      <th>4</th>
      <td>5</td>
      <td>e</td>
      <td>1</td>
      <td>0.423655</td>
      <td>-0.499017</td>
      <td>68</td>
    </tr>
  </tbody>
</table>
</div></div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none"><div class="highlight"><pre>
<span></span>In [81]:
</pre></div>
</div>
<div class="input_area highlight-ipython3"><div class="highlight"><pre>
<span></span>df[&quot;c&quot;].head(1)
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none"><div class="highlight"><pre>
<span></span>Out[81]:
</pre></div>
</div>
<div class="output_area highlight-none"><div class="highlight"><pre>
<span></span>0    1
Name: c, dtype: int64
</pre></div>
</div>
</div>
<div class="section" id="カテゴリ変数化">
<h3>カテゴリ変数化<a class="headerlink" href="#カテゴリ変数化" title="このヘッドラインへのパーマリンク">¶</a></h3>
<div class="nbinput docutils container">
<div class="prompt highlight-none"><div class="highlight"><pre>
<span></span>In [82]:
</pre></div>
</div>
<div class="input_area highlight-ipython3"><div class="highlight"><pre>
<span></span>df[&quot;c&quot;] = df.c.astype(&quot;category&quot;)
df[&quot;c&quot;].head(1)
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none"><div class="highlight"><pre>
<span></span>Out[82]:
</pre></div>
</div>
<div class="output_area highlight-none"><div class="highlight"><pre>
<span></span>0    1
Name: c, dtype: category
Categories (4, int64): [1, 2, 3, 4]
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="quantile">
<h2>quantile<a class="headerlink" href="#quantile" title="このヘッドラインへのパーマリンク">¶</a></h2>
<div class="nbinput docutils container">
<div class="prompt highlight-none"><div class="highlight"><pre>
<span></span>In [32]:
</pre></div>
</div>
<div class="input_area highlight-ipython3"><div class="highlight"><pre>
<span></span>df.quantile()
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none"><div class="highlight"><pre>
<span></span>Out[32]:
</pre></div>
</div>
<div class="output_area highlight-none"><div class="highlight"><pre>
<span></span>a    500.500000
d      0.481323
e      0.030935
f     51.000000
dtype: float64
</pre></div>
</div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none"><div class="highlight"><pre>
<span></span>In [33]:
</pre></div>
</div>
<div class="input_area highlight-ipython3"><div class="highlight"><pre>
<span></span>decile = list(map(lambda x: x / 10, range(0, 10+1)))
decile
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none"><div class="highlight"><pre>
<span></span>Out[33]:
</pre></div>
</div>
<div class="output_area highlight-none"><div class="highlight"><pre>
<span></span>[0.0, 0.1, 0.2, 0.3, 0.4, 0.5, 0.6, 0.7, 0.8, 0.9, 1.0]
</pre></div>
</div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none"><div class="highlight"><pre>
<span></span>In [34]:
</pre></div>
</div>
<div class="input_area highlight-ipython3"><div class="highlight"><pre>
<span></span>deciled = df.quantile(decile)
deciled
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none"><div class="highlight"><pre>
<span></span>Out[34]:
</pre></div>
</div>
<div class="output_area docutils container">
<div>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>a</th>
      <th>d</th>
      <th>e</th>
      <th>f</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0.0</th>
      <td>1.0</td>
      <td>0.000546</td>
      <td>-2.994613</td>
      <td>1</td>
    </tr>
    <tr>
      <th>0.1</th>
      <td>100.9</td>
      <td>0.100287</td>
      <td>-1.198404</td>
      <td>9</td>
    </tr>
    <tr>
      <th>0.2</th>
      <td>200.8</td>
      <td>0.203938</td>
      <td>-0.825520</td>
      <td>22</td>
    </tr>
    <tr>
      <th>0.3</th>
      <td>300.7</td>
      <td>0.292981</td>
      <td>-0.481149</td>
      <td>33</td>
    </tr>
    <tr>
      <th>0.4</th>
      <td>400.6</td>
      <td>0.383455</td>
      <td>-0.199363</td>
      <td>41</td>
    </tr>
    <tr>
      <th>0.5</th>
      <td>500.5</td>
      <td>0.481323</td>
      <td>0.030935</td>
      <td>51</td>
    </tr>
    <tr>
      <th>0.6</th>
      <td>600.4</td>
      <td>0.588486</td>
      <td>0.245125</td>
      <td>60</td>
    </tr>
    <tr>
      <th>0.7</th>
      <td>700.3</td>
      <td>0.696379</td>
      <td>0.501393</td>
      <td>69</td>
    </tr>
    <tr>
      <th>0.8</th>
      <td>800.2</td>
      <td>0.806419</td>
      <td>0.835011</td>
      <td>79</td>
    </tr>
    <tr>
      <th>0.9</th>
      <td>900.1</td>
      <td>0.907747</td>
      <td>1.324424</td>
      <td>89</td>
    </tr>
    <tr>
      <th>1.0</th>
      <td>1000.0</td>
      <td>0.999809</td>
      <td>3.170975</td>
      <td>99</td>
    </tr>
  </tbody>
</table>
</div></div>
</div>
</div>
<div class="section" id="基礎集計">
<h2>基礎集計<a class="headerlink" href="#基礎集計" title="このヘッドラインへのパーマリンク">¶</a></h2>
<ul class="simple">
<li>平均値</li>
<li>中央値</li>
<li>plot moduleを試した</li>
</ul>
<div class="nbinput docutils container">
<div class="prompt highlight-none"><div class="highlight"><pre>
<span></span>In [35]:
</pre></div>
</div>
<div class="input_area highlight-ipython3"><div class="highlight"><pre>
<span></span>mean = pd.DataFrame(df.mean()).T
mean
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none"><div class="highlight"><pre>
<span></span>Out[35]:
</pre></div>
</div>
<div class="output_area docutils container">
<div>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>a</th>
      <th>d</th>
      <th>e</th>
      <th>f</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>500.5</td>
      <td>0.495922</td>
      <td>0.029044</td>
      <td>50.372</td>
    </tr>
  </tbody>
</table>
</div></div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none"><div class="highlight"><pre>
<span></span>In [36]:
</pre></div>
</div>
<div class="input_area highlight-ipython3"><div class="highlight"><pre>
<span></span>median = pd.DataFrame(df.median()).T
median
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none"><div class="highlight"><pre>
<span></span>Out[36]:
</pre></div>
</div>
<div class="output_area docutils container">
<div>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>a</th>
      <th>d</th>
      <th>e</th>
      <th>f</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>500.5</td>
      <td>0.481323</td>
      <td>0.030935</td>
      <td>51</td>
    </tr>
  </tbody>
</table>
</div></div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none"><div class="highlight"><pre>
<span></span>In [37]:
</pre></div>
</div>
<div class="input_area highlight-ipython3"><div class="highlight"><pre>
<span></span>df[&quot;d&quot;].plot(kind=&quot;hist&quot;, bins=20)
</pre></div>
</div>
</div>
<div class="nboutput docutils container">
<div class="prompt highlight-none"><div class="highlight"><pre>
<span></span>Out[37]:
</pre></div>
</div>
<div class="output_area highlight-none"><div class="highlight"><pre>
<span></span>&lt;matplotlib.axes._subplots.AxesSubplot at 0x11b603c18&gt;
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<img alt="../_images/notebooks_Standardize_other_23_1.png" src="../_images/notebooks_Standardize_other_23_1.png" />
</div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none"><div class="highlight"><pre>
<span></span>In [38]:
</pre></div>
</div>
<div class="input_area highlight-ipython3"><div class="highlight"><pre>
<span></span>df[&quot;d&quot;].plot.hist(bins=20)
</pre></div>
</div>
</div>
<div class="nboutput docutils container">
<div class="prompt highlight-none"><div class="highlight"><pre>
<span></span>Out[38]:
</pre></div>
</div>
<div class="output_area highlight-none"><div class="highlight"><pre>
<span></span>&lt;matplotlib.axes._subplots.AxesSubplot at 0x11b788748&gt;
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<img alt="../_images/notebooks_Standardize_other_24_1.png" src="../_images/notebooks_Standardize_other_24_1.png" />
</div>
</div>
</div>
<div class="section" id="正規化">
<h2>正規化<a class="headerlink" href="#正規化" title="このヘッドラインへのパーマリンク">¶</a></h2>
<div class="nbinput docutils container">
<div class="prompt highlight-none"><div class="highlight"><pre>
<span></span>In [114]:
</pre></div>
</div>
<div class="input_area highlight-ipython3"><div class="highlight"><pre>
<span></span>from sklearn.preprocessing import scale
# normalize はベクトルの正規化だった
figure, axes = plt.subplots(1, 3, figsize=(15, 5))
df[&quot;f&quot;].hist(ax=axes[0])
(df.f - df.f.mean()).div(df.f.std()).hist(ax=axes[1])
plt.hist(scale(df[&quot;f&quot;].astype(&quot;float&quot;)))
</pre></div>
</div>
</div>
<div class="nboutput docutils container">
<div class="prompt highlight-none"><div class="highlight"><pre>
<span></span>Out[114]:
</pre></div>
</div>
<div class="output_area highlight-none"><div class="highlight"><pre>
<span></span>(array([ 114.,   68.,   90.,  115.,  101.,  106.,  114.,   93.,  109.,   90.]),
 array([-1.76395676, -1.41382356, -1.06369036, -0.71355717, -0.36342397,
        -0.01329077,  0.33684243,  0.68697562,  1.03710882,  1.38724202,
         1.73737522]),
 &lt;a list of 10 Patch objects&gt;)
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<img alt="../_images/notebooks_Standardize_other_26_1.png" src="../_images/notebooks_Standardize_other_26_1.png" />
</div>
</div>
</div>
<div class="section" id="累積構成比のための処理">
<h2>累積構成比のための処理<a class="headerlink" href="#累積構成比のための処理" title="このヘッドラインへのパーマリンク">¶</a></h2>
<div class="nbinput docutils container">
<div class="prompt highlight-none"><div class="highlight"><pre>
<span></span>In [98]:
</pre></div>
</div>
<div class="input_area highlight-ipython3"><div class="highlight"><pre>
<span></span>columns = list(&quot;def&quot;)
normalized_df = df[columns].div(df[columns].sum())
print(normalized_df.sum())
normalized_df[&quot;f&quot;].cumsum().plot()

</pre></div>
</div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
d    1
e    1
f    1
dtype: float64
</pre></div></div>
</div>
<div class="nboutput docutils container">
<div class="prompt highlight-none"><div class="highlight"><pre>
<span></span>Out[98]:
</pre></div>
</div>
<div class="output_area highlight-none"><div class="highlight"><pre>
<span></span>&lt;matplotlib.axes._subplots.AxesSubplot at 0x11e117240&gt;
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<img alt="../_images/notebooks_Standardize_other_28_2.png" src="../_images/notebooks_Standardize_other_28_2.png" />
</div>
</div>
</div>
<div class="section" id="分布">
<h2>分布<a class="headerlink" href="#分布" title="このヘッドラインへのパーマリンク">¶</a></h2>
<p><a class="reference external" href="http://docs.scipy.org/doc/numpy/reference/routines.random.html#distributions">http://docs.scipy.org/doc/numpy/reference/routines.random.html#distributions</a></p>
<table border="1" class="docutils">
<colgroup>
<col width="42%" />
<col width="58%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">name</th>
<th class="head">arguments</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>beta</td>
<td>(a, b[, size])</td>
</tr>
<tr class="row-odd"><td>binomial</td>
<td>(n, p[, size])</td>
</tr>
<tr class="row-even"><td>chisquare</td>
<td>(df[, size])</td>
</tr>
<tr class="row-odd"><td>dirichlet</td>
<td>(alpha[, size])</td>
</tr>
<tr class="row-even"><td>exponential</td>
<td>([scale, size])</td>
</tr>
<tr class="row-odd"><td>f</td>
<td>(dfnum, dfden[, size])</td>
</tr>
<tr class="row-even"><td>gamma</td>
<td>(shape[, scale, size])</td>
</tr>
<tr class="row-odd"><td>geometric</td>
<td>(p[, size])</td>
</tr>
<tr class="row-even"><td>gumbel</td>
<td>([loc, scale, size])</td>
</tr>
<tr class="row-odd"><td>hypergeometric</td>
<td>(ngood, nbad, nsample[, size])</td>
</tr>
<tr class="row-even"><td>laplace</td>
<td>([loc, scale, size])</td>
</tr>
<tr class="row-odd"><td>logistic</td>
<td>([loc, scale, size])</td>
</tr>
<tr class="row-even"><td>lognormal</td>
<td>([mean, sigma, size])</td>
</tr>
<tr class="row-odd"><td>logseries</td>
<td>(p[, size])</td>
</tr>
<tr class="row-even"><td>multinomial</td>
<td>(n, pvals[, size])</td>
</tr>
<tr class="row-odd"><td>multivariate_normal</td>
<td>(mean, cov[, size])</td>
</tr>
<tr class="row-even"><td>negative_binomial</td>
<td>(n, p[, size])</td>
</tr>
<tr class="row-odd"><td>noncentral_chisquare</td>
<td>(df, nonc[, size])</td>
</tr>
<tr class="row-even"><td>noncentral_f</td>
<td>(dfnum, dfden, nonc[, size])</td>
</tr>
<tr class="row-odd"><td>normal</td>
<td>([loc, scale, size])</td>
</tr>
<tr class="row-even"><td>pareto</td>
<td>(a[, size])</td>
</tr>
<tr class="row-odd"><td>poisson</td>
<td>([lam, size])</td>
</tr>
<tr class="row-even"><td>power</td>
<td>(a[, size])</td>
</tr>
<tr class="row-odd"><td>rayleigh</td>
<td>([scale, size])</td>
</tr>
<tr class="row-even"><td>standard_cauchy</td>
<td>([size])</td>
</tr>
<tr class="row-odd"><td>standard_exponential</td>
<td>([size])</td>
</tr>
<tr class="row-even"><td>standard_gamma</td>
<td>(shape[, size])</td>
</tr>
<tr class="row-odd"><td>standard_normal</td>
<td>([size])</td>
</tr>
<tr class="row-even"><td>standard_t</td>
<td>(df[, size])</td>
</tr>
<tr class="row-odd"><td>triangular</td>
<td>(left, mode, right[, size])</td>
</tr>
<tr class="row-even"><td>uniform</td>
<td>([low, high, size])</td>
</tr>
<tr class="row-odd"><td>vonmises</td>
<td>(mu, kappa[, size])</td>
</tr>
<tr class="row-even"><td>wald</td>
<td>(mean, scale[, size])</td>
</tr>
<tr class="row-odd"><td>weibull</td>
<td>(a[, size])</td>
</tr>
<tr class="row-even"><td>zipf</td>
<td>(a[, size])</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="formula式">
<h2>formula式<a class="headerlink" href="#formula式" title="このヘッドラインへのパーマリンク">¶</a></h2>
<ul class="simple">
<li>Rのあれ</li>
<li>patsyというpydata提供のモジュール</li>
<li>statsmodelsにformulaあったなぁと調べたら、これだった</li>
</ul>
<div class="nbinput docutils container">
<div class="prompt highlight-none"><div class="highlight"><pre>
<span></span>In [152]:
</pre></div>
</div>
<div class="input_area highlight-ipython3"><div class="highlight"><pre>
<span></span>import patsy
patsy.dmatrices(&quot;c ~ .&quot;, df, return_type=&quot;dataframe&quot;)

</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
<span class="ansi-cyan-fg">  File </span><span class="ansi-green-fg">&#34;&lt;unknown&gt;&#34;</span><span class="ansi-cyan-fg">, line </span><span class="ansi-green-fg">1</span>
<span class="ansi-red-fg">    .</span>
    ^
<span class="ansi-red-fg">SyntaxError</span><span class="ansi-red-fg">:</span> invalid syntax

</pre></div></div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none"><div class="highlight"><pre>
<span></span>In [116]:
</pre></div>
</div>
<div class="input_area highlight-ipython3"><div class="highlight"><pre>
<span></span>y, X = patsy.dmatrices(&quot;c ~ a + b + d + e + f&quot;, df, return_type=&quot;dataframe&quot;)
X.head()
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none"><div class="highlight"><pre>
<span></span>Out[116]:
</pre></div>
</div>
<div class="output_area docutils container">
<div>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Intercept</th>
      <th>b[T.b]</th>
      <th>b[T.c]</th>
      <th>b[T.d]</th>
      <th>b[T.e]</th>
      <th>b[T.f]</th>
      <th>b[T.g]</th>
      <th>b[T.h]</th>
      <th>b[T.i]</th>
      <th>b[T.j]</th>
      <th>...</th>
      <th>b[T.t]</th>
      <th>b[T.u]</th>
      <th>b[T.v]</th>
      <th>b[T.w]</th>
      <th>b[T.x]</th>
      <th>b[T.y]</th>
      <th>a</th>
      <th>d</th>
      <th>e</th>
      <th>f</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>1</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>...</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>1</td>
      <td>0.548814</td>
      <td>-0.101697</td>
      <td>53</td>
    </tr>
    <tr>
      <th>1</th>
      <td>1</td>
      <td>1</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>...</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>2</td>
      <td>0.715189</td>
      <td>0.019279</td>
      <td>76</td>
    </tr>
    <tr>
      <th>2</th>
      <td>1</td>
      <td>0</td>
      <td>1</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>...</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>3</td>
      <td>0.602763</td>
      <td>1.849591</td>
      <td>54</td>
    </tr>
    <tr>
      <th>3</th>
      <td>1</td>
      <td>0</td>
      <td>0</td>
      <td>1</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>...</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>4</td>
      <td>0.544883</td>
      <td>-0.214167</td>
      <td>94</td>
    </tr>
    <tr>
      <th>4</th>
      <td>1</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>1</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>...</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>5</td>
      <td>0.423655</td>
      <td>-0.499017</td>
      <td>68</td>
    </tr>
  </tbody>
</table>
<p>5 rows × 29 columns</p>
</div></div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none"><div class="highlight"><pre>
<span></span>In [143]:
</pre></div>
</div>
<div class="input_area highlight-ipython3"><div class="highlight"><pre>
<span></span>np.random.randint(0, 1+1, 50)
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none"><div class="highlight"><pre>
<span></span>Out[143]:
</pre></div>
</div>
<div class="output_area highlight-none"><div class="highlight"><pre>
<span></span>array([0, 0, 0, 0, 1, 1, 1, 0, 1, 1, 0, 0, 0, 1, 1, 0, 1, 1, 1, 0, 1, 1, 1,
       1, 0, 1, 0, 0, 1, 0, 1, 0, 1, 1, 0, 1, 1, 0, 1, 1, 1, 0, 1, 0, 1, 0,
       1, 1, 1, 1])
</pre></div>
</div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none"><div class="highlight"><pre>
<span></span>In [156]:
</pre></div>
</div>
<div class="input_area highlight-ipython3"><div class="highlight"><pre>
<span></span>df_ex = pd.DataFrame(
    {
        &quot;a&quot;: np.random.randint(0, 3+1, 50),
        &quot;b&quot;: range(50),
        &quot;c&quot;: list(&quot;abcde&quot;) * 10,
        &quot;d&quot;: [False, True] * 25,
        &quot;y&quot;: np.random.randint(0, 1+1, 50)
    }
)
df_ex.describe()
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none"><div class="highlight"><pre>
<span></span>Out[156]:
</pre></div>
</div>
<div class="output_area docutils container">
<div>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>a</th>
      <th>b</th>
      <th>d</th>
      <th>y</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>count</th>
      <td>50.000000</td>
      <td>50.00000</td>
      <td>50</td>
      <td>50.000000</td>
    </tr>
    <tr>
      <th>mean</th>
      <td>1.460000</td>
      <td>24.50000</td>
      <td>0.5</td>
      <td>0.520000</td>
    </tr>
    <tr>
      <th>std</th>
      <td>1.128662</td>
      <td>14.57738</td>
      <td>0.505076</td>
      <td>0.504672</td>
    </tr>
    <tr>
      <th>min</th>
      <td>0.000000</td>
      <td>0.00000</td>
      <td>False</td>
      <td>0.000000</td>
    </tr>
    <tr>
      <th>25%</th>
      <td>0.000000</td>
      <td>12.25000</td>
      <td>0</td>
      <td>0.000000</td>
    </tr>
    <tr>
      <th>50%</th>
      <td>2.000000</td>
      <td>24.50000</td>
      <td>0.5</td>
      <td>1.000000</td>
    </tr>
    <tr>
      <th>75%</th>
      <td>2.000000</td>
      <td>36.75000</td>
      <td>1</td>
      <td>1.000000</td>
    </tr>
    <tr>
      <th>max</th>
      <td>3.000000</td>
      <td>49.00000</td>
      <td>True</td>
      <td>1.000000</td>
    </tr>
  </tbody>
</table>
</div></div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none"><div class="highlight"><pre>
<span></span>In [157]:
</pre></div>
</div>
<div class="input_area highlight-ipython3"><div class="highlight"><pre>
<span></span>outcome, predictors = patsy.dmatrices(&quot;y ~ C(a) + b + c + d&quot;,  df_ex, return_type=&quot;dataframe&quot;)
pd.concat([predictors, outcome], axis=1).head()

</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none"><div class="highlight"><pre>
<span></span>Out[157]:
</pre></div>
</div>
<div class="output_area docutils container">
<div>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Intercept</th>
      <th>C(a)[T.1]</th>
      <th>C(a)[T.2]</th>
      <th>C(a)[T.3]</th>
      <th>c[T.b]</th>
      <th>c[T.c]</th>
      <th>c[T.d]</th>
      <th>c[T.e]</th>
      <th>d[T.True]</th>
      <th>b</th>
      <th>y</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>1</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>1</td>
    </tr>
    <tr>
      <th>1</th>
      <td>1</td>
      <td>1</td>
      <td>0</td>
      <td>0</td>
      <td>1</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>1</td>
      <td>1</td>
      <td>0</td>
    </tr>
    <tr>
      <th>2</th>
      <td>1</td>
      <td>0</td>
      <td>1</td>
      <td>0</td>
      <td>0</td>
      <td>1</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>2</td>
      <td>1</td>
    </tr>
    <tr>
      <th>3</th>
      <td>1</td>
      <td>0</td>
      <td>1</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>1</td>
      <td>0</td>
      <td>1</td>
      <td>3</td>
      <td>1</td>
    </tr>
    <tr>
      <th>4</th>
      <td>1</td>
      <td>1</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>1</td>
      <td>0</td>
      <td>4</td>
      <td>0</td>
    </tr>
  </tbody>
</table>
</div></div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none"><div class="highlight"><pre>
<span></span>In [142]:
</pre></div>
</div>
<div class="input_area highlight-ipython3"><div class="highlight"><pre>
<span></span>X.describe()
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none"><div class="highlight"><pre>
<span></span>Out[142]:
</pre></div>
</div>
<div class="output_area docutils container">
<div>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Intercept</th>
      <th>C(a)[T.1]</th>
      <th>C(a)[T.2]</th>
      <th>C(a)[T.3]</th>
      <th>c[T.b]</th>
      <th>c[T.c]</th>
      <th>c[T.d]</th>
      <th>c[T.e]</th>
      <th>b</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>count</th>
      <td>50</td>
      <td>50.000000</td>
      <td>50.000000</td>
      <td>50.000000</td>
      <td>50.000000</td>
      <td>50.000000</td>
      <td>50.000000</td>
      <td>50.000000</td>
      <td>50.00000</td>
    </tr>
    <tr>
      <th>mean</th>
      <td>1</td>
      <td>0.220000</td>
      <td>0.200000</td>
      <td>0.320000</td>
      <td>0.200000</td>
      <td>0.200000</td>
      <td>0.200000</td>
      <td>0.200000</td>
      <td>24.50000</td>
    </tr>
    <tr>
      <th>std</th>
      <td>0</td>
      <td>0.418452</td>
      <td>0.404061</td>
      <td>0.471212</td>
      <td>0.404061</td>
      <td>0.404061</td>
      <td>0.404061</td>
      <td>0.404061</td>
      <td>14.57738</td>
    </tr>
    <tr>
      <th>min</th>
      <td>1</td>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>0.00000</td>
    </tr>
    <tr>
      <th>25%</th>
      <td>1</td>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>12.25000</td>
    </tr>
    <tr>
      <th>50%</th>
      <td>1</td>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>24.50000</td>
    </tr>
    <tr>
      <th>75%</th>
      <td>1</td>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>1.000000</td>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>36.75000</td>
    </tr>
    <tr>
      <th>max</th>
      <td>1</td>
      <td>1.000000</td>
      <td>1.000000</td>
      <td>1.000000</td>
      <td>1.000000</td>
      <td>1.000000</td>
      <td>1.000000</td>
      <td>1.000000</td>
      <td>49.00000</td>
    </tr>
  </tbody>
</table>
</div></div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none"><div class="highlight"><pre>
<span></span>In [158]:
</pre></div>
</div>
<div class="input_area highlight-ipython3"><div class="highlight"><pre>
<span></span>y, X = patsy.dmatrices(&quot;c ~ a + C(b) + d + e + f&quot;, df, return_type=&quot;dataframe&quot;)
X.head()
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none"><div class="highlight"><pre>
<span></span>Out[158]:
</pre></div>
</div>
<div class="output_area docutils container">
<div>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Intercept</th>
      <th>C(b)[T.b]</th>
      <th>C(b)[T.c]</th>
      <th>C(b)[T.d]</th>
      <th>C(b)[T.e]</th>
      <th>C(b)[T.f]</th>
      <th>C(b)[T.g]</th>
      <th>C(b)[T.h]</th>
      <th>C(b)[T.i]</th>
      <th>C(b)[T.j]</th>
      <th>...</th>
      <th>C(b)[T.t]</th>
      <th>C(b)[T.u]</th>
      <th>C(b)[T.v]</th>
      <th>C(b)[T.w]</th>
      <th>C(b)[T.x]</th>
      <th>C(b)[T.y]</th>
      <th>a</th>
      <th>d</th>
      <th>e</th>
      <th>f</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>1</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>...</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>1</td>
      <td>0.548814</td>
      <td>-0.101697</td>
      <td>53</td>
    </tr>
    <tr>
      <th>1</th>
      <td>1</td>
      <td>1</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>...</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>2</td>
      <td>0.715189</td>
      <td>0.019279</td>
      <td>76</td>
    </tr>
    <tr>
      <th>2</th>
      <td>1</td>
      <td>0</td>
      <td>1</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>...</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>3</td>
      <td>0.602763</td>
      <td>1.849591</td>
      <td>54</td>
    </tr>
    <tr>
      <th>3</th>
      <td>1</td>
      <td>0</td>
      <td>0</td>
      <td>1</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>...</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>4</td>
      <td>0.544883</td>
      <td>-0.214167</td>
      <td>94</td>
    </tr>
    <tr>
      <th>4</th>
      <td>1</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>1</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>...</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>5</td>
      <td>0.423655</td>
      <td>-0.499017</td>
      <td>68</td>
    </tr>
  </tbody>
</table>
<p>5 rows × 29 columns</p>
</div></div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none"><div class="highlight"><pre>
<span></span>In [159]:
</pre></div>
</div>
<div class="input_area highlight-ipython3"><div class="highlight"><pre>
<span></span>y.head()
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none"><div class="highlight"><pre>
<span></span>Out[159]:
</pre></div>
</div>
<div class="output_area docutils container">
<div>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>c[1]</th>
      <th>c[2]</th>
      <th>c[3]</th>
      <th>c[4]</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>1</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
    </tr>
    <tr>
      <th>1</th>
      <td>0</td>
      <td>1</td>
      <td>0</td>
      <td>0</td>
    </tr>
    <tr>
      <th>2</th>
      <td>0</td>
      <td>0</td>
      <td>1</td>
      <td>0</td>
    </tr>
    <tr>
      <th>3</th>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>1</td>
    </tr>
    <tr>
      <th>4</th>
      <td>1</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
    </tr>
  </tbody>
</table>
</div></div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none"><div class="highlight"><pre>
<span></span>In [160]:
</pre></div>
</div>
<div class="input_area highlight-ipython3"><div class="highlight"><pre>
<span></span>np.ravel(y), len(np.ravel(y))
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none"><div class="highlight"><pre>
<span></span>Out[160]:
</pre></div>
</div>
<div class="output_area highlight-none"><div class="highlight"><pre>
<span></span>(array([ 1.,  0.,  0., ...,  0.,  0.,  1.]), 4000)
</pre></div>
</div>
</div>
</div>
</div>


           </div>
           <div class="articleComments">
            
           </div>
          </div>
          <footer>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2017, ksomemo.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../',
            VERSION:'',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true,
            SOURCELINK_SUFFIX: '.txt'
        };
    </script>
      <script type="text/javascript" src="../_static/jquery.js"></script>
      <script type="text/javascript" src="../_static/underscore.js"></script>
      <script type="text/javascript" src="../_static/doctools.js"></script>
      <script type="text/javascript" src="../_static/translations.js"></script>
      <script type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>

  

  
  
    <script type="text/javascript" src="../_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>